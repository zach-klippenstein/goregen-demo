<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>goregen demo</title>
    <style>
        body {
        font-family: sans-serif;
        }

        input#regex {
        font-family: monospace;
        font-size: large;
        }

        .error {
        color: #f00;
        }

        .suggestion {
        margin: .5em;
        font-size: small;
        font-style: italic;
        }
        .suggestion a {
        text-decoration: none;
        }

        .results {
        margin-top: 1em;
        }

        .result {
        font-family: monospace;
        white-space: pre;
        }

        .info {
        padding-left: 1em;
        padding-top: 1em;
        padding-bottom: 1em;
        }

        .info-header {
        margin-right: 1em;
        font-weight: bold;
        font-size: small;
        }

        .example {
        margin-left: 2em;
        }
        .example code {
        border: 1px solid black;
        padding: .5em;
        margin: .5em;
        display: inline-block;
        }

        footer {
        margin-top: 1em;
        font-style: italic;
        font-size: small;
        }
    </style>
</head>
<body>

<div>
    <form method="get">
        <label for="regex">Generate strings matching:</label>
        <input type="text" size="40" value="{{ .Regex }}" id="regex" name="{{ .RegexFieldName }}">
        <input type="submit" value="Submit">
    </form>
</div>

{{ with .ErrorMsg }}
<span class="error">{{ . }}</span>
{{ end }}

{{ if .Suggestion }}
<div class="suggestion">
    Need an idea? Try <code><a href="{{ .SuggestionUrl }}">{{ .Suggestion }}</a></code>
</div>
{{ end }}

{{ with .Outputs }}
<div class="results">
    Results:
    <ul>
        {{ range . }}
        <li class="result">{{ . }}</li>
        {{ end }}
    </ul>
</div>
{{ end }}

<div class="info">
    <span class="info-header">REST API</span>
    Make a <code>GET</code> request with the <code>Accept: application/json</code> header to get a JSON array of
    strings:
    <br/>
    <span class="example"><code>curl -H "Accept: application/json" '<script>document.write(window.location.href)</script>'</code>
    </span>
</div>

<footer>
    Uses <a href="https://github.com/zach-klippenstein/goregen">goregen</a>, a Go library for generating random strings
    from regular expressions.
</footer>

{{ with .AnalyticsID }}
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', '{{ . }}', 'auto');
  ga('send', 'pageview');

</script>
{{ end }}
</body>
</html>
